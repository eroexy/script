<!DOCTYPE html>
<html>
<head>
    <title>Get Key</title>
    <style>
        body {
            font-family: Arial;
            background: #0f0f0f;
            color: white;
            text-align: center;
            padding-top: 60px;
        }
        input, button {
            padding: 10px;
            font-size: 16px;
            margin: 5px;
        }
        button {
            cursor: pointer;
        }
        #key {
            margin-top: 20px;
            word-break: break-all;
            font-size: 18px;
            color: #00ff99;
        }
    </style>
</head>
<body>

<h1>Key Generator</h1>
<p>Enter your Roblox UserId</p>

<input id="uid" placeholder="UserId" />
<br>
<button onclick="generate()">Generate Key</button>

<div id="key"></div>

<script>
const APP = "NIL";
const SALT = "x9!Kp#2@"; // MUST MATCH LOCAL SCRIPT
const EXPIRY_MINUTES = 60;

function hash(str) {
    let h = 7;
    for (let i = 0; i < str.length; i++) {
        h = (h * 31 + str.charCodeAt(i) * (i + 1)) % 1000000;
    }
    return h.toString(16).toUpperCase().padStart(6, "0");
}

function generate() {
    const uid = document.getElementById("uid").value.trim();
    if (!uid || isNaN(uid)) {
        alert("Invalid UserId");
        return;
    }

    const expiry = Math.floor(Date.now() / 1000) + (EXPIRY_MINUTES * 60);
    const checksum = hash(APP + uid + expiry + SALT);

    const key = `${APP}-${uid}-${expiry}-${checksum}`;
    document.getElementById("key").innerText = key;
}
</script>

</body>
</html>
